<h2>Productos
    <button
      type="button"
      class="btn btn-primary float-right"
      [routerLink]="['/product', 'new']">
      Nuevo Producto
    </button>
</h2>
<hr class="clearfix">
<div class="row">
  <div class="col-12">
    <table
      class="table table-striped table-bordered">
      <thead class="thead-dark">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Nombre</th>
          <th scope="col">Marca</th>
          <th scope="col">Cantidad</th>
          <th scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products; let i = index">
          <th scope="row">{{ i + 1 }}</th>
          <td>{{ product.name }}</td>
          <td>{{ product.brand }}</td>
          <td>{{ product.quantity }}
            <div class="btn-group float-right">
              <button (click)="updateProduct(product.id, 'min')"
                class="btn btn-outline-primary" [disabled]='product.quantity == 0'>
                  <i class="fas fa-minus"></i>
              </button>
              <button (click)="updateProduct(product.id, 'add')"
                class="btn btn-outline-primary">
                <i class="fas fa-plus"></i>
              </button>
            </div>
          </td>
          <td>
              <div class="btn-group float-right">
                <button [routerLink]="['/product', product.id ]"
                  class="btn btn-primary">
                  Actualizar
                </button>
                <button (click)="setDelete(product.id)"
                  data-toggle="modal"
                  data-target="#confirmDelete"
                  class="btn btn-danger">
                  Eliminar
                </button>
              </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="products.length===0"
      class="alert alert-info"
      role="alert">
        <strong>No hay registros para mostrar</strong>
      </div>
  </div>
</div>

<!-- Confirm Delete -->
<div class="modal fade" id="confirmDelete" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="confirmDeleteTitle">Confirmación</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        ¿Confirma la eliminacion del producto?
      </div>
      <div class="modal-footer">
        <button type="button"
          class="btn btn-secondary"
          data-dismiss="modal">
          Cancelar
        </button>
        <button (click)="confirmDelete()"
          type="button"
          class="btn btn-danger"
          data-dismiss="modal">
          Eliminar
        </button>
      </div>
    </div>
  </div>
</div>
